var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var e=c.length;for(b=b||0;b<e;b++)if(c[b]==a||Object.is(c[b],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6-impl","es3");
var tried=1,pastServers=[],connected=modes[Object.keys(modes)[0]],gid=JSON.stringify({mode:connected.name.toLowerCase(),id:0});
function connector(a,c){"random"==a&&(a=Object.keys(modes)[Math.floor(Math.random()*Object.keys(modes).length)]);a||(a=modes[Object.keys(modes)[0]].name.toLowerCase());var b=Object.keys(modes);c=c||0;a=modes.hasOwnProperty(a)?a:b[0];b=modes[a].servers;0===c&&(c=Math.floor(Math.random()*b.length));gid=JSON.stringify({mode:modes[a].name.toLowerCase(),id:c});1<pastServers.length&&msend(8,pastServers[pastServers.length-2]);setserver(b[c].ip+":"+b[c].port);pastServers.push(c.hash);connected=modes[a];$('#gamemode option[value="'+
modes[a].name.toLowerCase()+'"]').prop("selected",!0);window.location.hash.includes("random")&&(window.location.hash="",history.pushState("","",window.location.href.replace("#","")));log.info("Connecting to "+upperCase(modes[a].name)+" #"+(c+1));$("#statsName").html(config.name+" - "+upperCase(modes[a].name)+" #"+(c+1))}
var inParty=!1,party={lastDate:"",lastMessage:"",create:function(){$("#mainButtons").hide();$("#serverConnecting").show();$("#serverConnectingText").html("Creating Party...");var a=base.encode(gid).replace("=","");eventTracker("System","cparty","Created party: "+a);setTimeout(function(){inParty=!0;msend(4);window.location.hash=a;$("#partyDisconnected").hide();$("#partyConnected").show();connector()},100*Math.floor(9*Math.random()))},join:function(a){function c(){eventTracker("System","jparty","Joined party: "+
d);inParty=!0;msend(5);window.location.hash=d;$("#partyDisconnected").hide();$("#partyConnected").show();setTimeout(function(){connector(e.mode,e.id)},100*Math.floor(9*Math.random()))}function b(){eventTracker("System","fparty","Failed party");window.location.hash="";window.history.pushState("","",window.location.href.replace("#",""));$("#serverConnectingText").html("Invalid Party!");$("#partyDisconnected").show();$("#partyConnected").hide();setTimeout(function(){connector()},1E3)}var d=a,e=JSON.parse(base.decode(d));
$("#mainButtons").hide();$("#serverConnecting").show();$("#serverConnectingText").html("Joining Party...");eventTracker("System","tparty","Tried party");e&&modes.hasOwnProperty(e.mode)?c():b()},leave:function(a){1==inParty&&(msend(6),eventTracker("System","lparty","Left party"),window.location.hash="",history.pushState("","",window.location.href.replace("#","")),$("#mainButtons").hide(),$("#serverConnecting").show(),$("#serverConnectingText").html("Leaving Party..."),$("#partyDisconnected").show(),
$("#partyConnected").hide(),setTimeout(function(){a||connector()},100*Math.floor(9*Math.random())),inParty=!1)}};
