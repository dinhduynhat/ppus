var ui={modal:function(a){"none"==a&&"None"==a||$("#"+a).modal("toggle")},alert:function(a){a&&($("#alertText").html(a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),$("#alertText").animateCss("bounceIn"))},info:function(a){$("#informationBody").html('<div class="loader"></div>');setTimeout(function(){$.get("/api/info/"+a,function(a){$("#informationBody").html(a)})},1E3);setTimeout(function(){'<div class="loader"></div>'==$("#informationBody").html()&&$("#informationBody").html("<p>A unknown error occured.</p>")},
5E3)},slider:function(a){$("#slider").html($("#"+a+"Slider").html())},sliderCycle:function(){ui.slider(config.slide1);setTimeout(function(){ui.slider(config.slide2)},1E4);setTimeout(function(){ui.slider(config.slide3)},2E4);setTimeout(function(){ui.slider(config.slide4)},3E4);setTimeout(ui.sliderCycle,4E4)},popup:function(a){a||(a=10);var b=Math.floor(Math.random()*a);setTimeout(function(){0==b?(ui.modal("skinPack1Modal"),sfx("explosion")):1==b?(ui.modal("musicDiscord"),sfx("explosion")):2==b&&(ui.modal("skinPack2Modal"),
sfx("explosion"))},1500)},skinColor:function(){var a="FF3333 33FF33 3333FF FFFF33 33FFFF FF33FF FF8833".split(" "),a=a[Math.floor(Math.random()*a.length)];document.getElementById("mySkin").style.borderColor="#"+a;document.getElementById("mySkin").style.backgroundColor="#"+a},updateSkin:function(){var a=$("#nick").val();document.getElementById("mySkin").style.backgroundImage='url("")';$("#skinName").html("Choose a skin");var b=/\[([\w]+)\]/.exec(a);b&&2===b.length?-1!==knownSkins.indexOf(b[1].toLowerCase())&&
(document.getElementById("mySkin").style.backgroundImage='url("/skins/'+b[1].toLowerCase()+'.png")',$("#skinName").html(b[1].toLowerCase())):document.getElementById("mySkin").style.backgroundImage=$("#customSkin").val();-1!==knownSkins.indexOf(a.toLowerCase())&&(document.getElementById("mySkin").style.backgroundImage='url("/skins/'+a.toLowerCase()+'.png")',$("#skinName").html(b[1].toLowerCase()))},updateTags:function(a){a||(a=$("#gamemode option:selected").text());document.title=config.name+" - "+
a;$("#statsName").html(config.name+" - "+a)},build:function(){for(var a in modes)if(modes.hasOwnProperty(a)){var b=modes[a],c=0==c?"selected ":"";$("#gamemode").append("<option "+c+' value="'+b.name.toLowerCase()+'">'+b.name+"</option>");$("#hiscoresMode").append('<option value="'+b.name.toLowerCase()+'">'+b.name+"</option>");for(var c=0;c<b.servers.length;c++)$("#onlineCounterTable").append("<tr><td>"+b.name+" "+(c+1)+'</td><td><span id="online'+upperCase(b.name.toLowerCase())+c+'">Loading...</span></td></tr>')}}},
repeat=!1,next="",current="",musicMuted=!1;
function musicPlayer(a){$("#musicStatus").html("Loading...");$("#musicStart").hide();$("#bottomBlock").hide();$("#musicControls").show();var b=Math.floor(Math.random()*config.musiccount+1),c="",d=document.getElementById("music"),c=a?a:b;repeat&&""!=next&&next==current&&(c=next);d.src=config.musicdir+c+".mp3";current=c;ID3.loadTags(d.src,function(){var a=ID3.getAllTags(d.src);$("#musicStatus").html("Now Playing: <b>"+a.artist+"</b> - <b>"+a.title+"</b>")});d.play();d.volume=$("#musicVolume").val();
musicMuted&&(d.volume=0)}function setRepeat(a){a?(repeat=!0,next=current):(repeat=!1,next="")}function muteMusic(a){var b=document.getElementById("music");a?(b.volume=0,musicMuted=!0):(b.volume=$("#musicVolume").val(),musicMuted=!1)}function sfx(a){1==sounds&&(new Audio("/assets/sounds/"+a+".mp3")).play()}$(function(){var a=$("#nick").val();$("#nick").keyup(function(){$("#nick").val()!=a&&(a=$("#nick").val(),ui.updateSkin())})});
